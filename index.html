<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stefania Bologna</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Controllo musica */
    .music-ctl {
      position: fixed;
      right: 16px;
      bottom: 16px;
      display: flex;
      gap: 8px;
      align-items: center;
      background: rgba(0,0,0,.6);
      backdrop-filter: blur(6px);
      color: #fff;
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,.25);
      z-index: 9999;
    }
    .music-ctl button {
      border: 0;
      padding: 8px 12px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      background: #1e90ff;
      color: #fff;
    }
    .music-ctl button.secondary {
      background: transparent;
      outline: 1px solid rgba(255,255,255,.5);
      color: #fff;
    }
    .music-ctl .hidden { display: none !important; }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <nav class="side-nav">
    <a href="#home">üè†</a>
    <a href="#about">üë©</a>
    <a href="#projects">üìÑ</a>
    <a href="#contact">üì¨</a>
  </nav>

  <!-- Home -->
  <section id="home" class="home">
    <h1>Stefania Bologna</h1>
    <p class="typing-container"><span class="typing-text" id="typing"></span></p>
  </section>

  <!-- About -->
  <section id="about" class="section">
    <h2>About Me</h2>
    <p>I am a Senior Data Analyst and Service Manager with proven experience in managing complex IT initiatives and service contracts.</p>
    <p>I specialize in functional analysis, business process improvement and IT service governance, with a strong foundation in Agile/Scrum, ITIL practices, and data platforms such as Power BI, Spotfire, SQL, Azure, and Cloudera.</p>
    <p>I am passionate about digital transformation, innovation, and delivering efficient, user-centered solutions.</p>
    <p>In my free time, I enjoy swimming, horse riding and cooking.</p>
  </section>

  <!-- Projects -->
  <section id="projects" class="section">
    <h2>My Projects</h2>
    <p style="margin-top: -10px; font-size: 1.1rem; color: #1e90ff; font-weight: 600;">
      üìå Projects from the last <strong>7 years</strong> of my Professional career.
    </p>

    <!-- (qui restano invariati tutti i tuoi contenuti dei progetti) -->

  </section>

  <!-- Contact -->
  <section id="contact" class="section">
    <h2>Contact Me</h2>
    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/stefaniabologna/" target="_blank">linkedin.com/in/stefaniabologna</a></p>
  </section>

  <!-- Controllo musica -->
  <div class="music-ctl" id="musicCtl">
    <span>üéµ Music</span>
    <button id="enableMusic">Attiva</button>
    <button id="pauseMusic" class="secondary hidden">Pausa</button>
    <button id="resumeMusic" class="secondary hidden">Riprendi</button>
  </div>

  <!-- Audio locale -->
  <audio id="bgm" src="Vivere%20Una%20Favola.mp3" loop preload="auto"></audio>

  <!-- Typing effect script -->
  <script>
    const roles = ["Power BI Expert", "Functional Analyst", "Service Manager"];
    let roleIndex = 0;
    let charIndex = 0;
    const typingElement = document.getElementById("typing");

    function type() {
      if (charIndex < roles[roleIndex].length) {
        typingElement.innerHTML += roles[roleIndex].charAt(charIndex);
        charIndex++;
        setTimeout(type, 100);
      } else {
        setTimeout(erase, 1500);
      }
    }

    function erase() {
      if (charIndex > 0) {
        typingElement.innerHTML = roles[roleIndex].substring(0, charIndex - 1);
        charIndex--;
        setTimeout(erase, 50);
      } else {
        roleIndex = (roleIndex + 1) % roles.length;
        setTimeout(type, 200);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      setTimeout(type, 500);
    });
  </script>

  <!-- Script musica con consenso -->
  <script>
    (function() {
      const audio = document.getElementById('bgm');
      const enableBtn = document.getElementById('enableMusic');
      const pauseBtn = document.getElementById('pauseMusic');
      const resumeBtn = document.getElementById('resumeMusic');
      const STORAGE_KEY = 'bgm-consent-v1';

      document.addEventListener('DOMContentLoaded', async () => {
        try {
          await audio.play();
          onPlaying();
          localStorage.setItem(STORAGE_KEY, 'granted');
        } catch (_) {
          showEnable();
        }
      });

      enableBtn.addEventListener('click', async () => {
        try {
          await audio.play();
          onPlaying();
          localStorage.setItem(STORAGE_KEY, 'granted');
        } catch {
          alert("Il browser ha bloccato l'autoplay: riprova a cliccare 'Attiva'.");
        }
      });

      pauseBtn.addEventListener('click', () => {
        audio.pause();
        pauseBtn.classList.add('hidden');
        resumeBtn.classList.remove('hidden');
      });

      resumeBtn.addEventListener('click', async () => {
        try { await audio.play(); } catch {}
        resumeBtn.classList.add('hidden');
        pauseBtn.classList.remove('hidden');
      });

      function onPlaying() {
        enableBtn.classList.add('hidden');
        resumeBtn.classList.add('hidden');
        pauseBtn.classList.remove('hidden');
      }
      function showEnable() {
        enableBtn.classList.remove('hidden');
        pauseBtn.classList.add('hidden');
        resumeBtn.classList.add('hidden');
      }
    })();
  </script>
</body>
</html>
